<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Space+Grotesk%3Awght%40400%3B500%3B700"
    />
    <title>Profile - LapTime Predictor</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div class="relative flex size-full min-h-screen flex-col bg-[#1a1a1a] dark group/design-root overflow-x-hidden" style='font-family: "Space Grotesk", "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#363636] px-10 py-3">
          <div class="flex items-center gap-4 text-white">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em]">LapTime Predictor</h2>
          </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a class="text-white text-sm font-medium leading-normal" href="home.html">Home</a>
              <a class="text-white text-sm font-medium leading-normal" href="#">Predict</a>
              <a class="text-white text-sm font-medium leading-normal" href="#">Results</a>
              <a class="text-white text-sm font-medium leading-normal" href="#">Standings</a>
            </div>
          </div>
        </header>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <p class="text-white tracking-light text-[32px] font-bold leading-tight min-w-72">Account Settings</p>
            </div>
            <div class="flex p-4 @container">
              <div class="flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center">
                <div class="flex gap-4">
                  <div
                    id="profilePicturePreview"
                    class="bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32"
                    style='background-image: url("https://via.placeholder.com/150");'
                  ></div>
                  <div class="flex flex-col justify-center">
                    <p class="text-white text-[22px] font-bold leading-tight tracking-[-0.015em]" id="userName">Sophia Carter</p>
                    <p class="text-[#adadad] text-base font-normal leading-normal" id="userEmail">sophia.carter@email.com</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Name</p>
                <input
                  id="nameInput"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#4d4d4d] bg-neutral-800 focus:border-[#4d4d4d] h-14 placeholder:text-[#adadad] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
              </label>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Email</p>
                <input
                  id="emailInput"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#4d4d4d] bg-neutral-800 focus:border-[#4d4d4d] h-14 placeholder:text-[#adadad] p-[15px] text-base font-normal leading-normal"
                  value=""
                />
              </label>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-white text-base font-medium leading-normal pb-2">Profile Picture</p>
                <input
                  id="profilePictureInput"
                  type="file"
                  accept="image/*"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#4d4d4d] bg-neutral-800 focus:border-[#4d4d4d] h-14 placeholder:text-[#adadad] p-[15px] text-base font-normal leading-normal"
                />
              </label>
            </div>
            <div class="flex px-4 py-3 justify-end">
              <button
                id="saveChangesButton"
                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-black text-white text-sm font-bold leading-normal tracking-[0.015em]"
              >
                <span class="truncate">Save Changes</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- JavaScript -->
    <script>
      // Load saved profile data from localStorage
      window.addEventListener("load", () => {
        const savedName = localStorage.getItem("userName");
        const savedEmail = localStorage.getItem("userEmail");
        const savedProfilePicture = localStorage.getItem("profilePicture");

        if (savedName) {
          document.getElementById("userName").textContent = savedName;
          document.getElementById("nameInput").value = savedName;
        }
        if (savedEmail) {
          document.getElementById("userEmail").textContent = savedEmail;
          document.getElementById("emailInput").value = savedEmail;
        }
        if (savedProfilePicture) {
          document.getElementById("profilePicturePreview").style.backgroundImage = `url(${savedProfilePicture})`;
        }
      });

      // Handle profile picture upload
      const profilePictureInput = document.getElementById("profilePictureInput");
      const profilePicturePreview = document.getElementById("profilePicturePreview");

      profilePictureInput.addEventListener("change", (event) => {
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            const imageUrl = e.target.result;
            profilePicturePreview.style.backgroundImage = `url(${imageUrl})`;
            localStorage.setItem("profilePicture", imageUrl); // Save to localStorage
          };
          reader.readAsDataURL(file);
        }
      });

      // Save changes and update profile
      document.getElementById("saveChangesButton").addEventListener("click", () => {
        const name = document.getElementById("nameInput").value.trim();
        const email = document.getElementById("emailInput").value.trim();

        if (name) {
          document.getElementById("userName").textContent = name;
          localStorage.setItem("userName", name); // Save to localStorage
        }
        if (email) {
          document.getElementById("userEmail").textContent = email;
          localStorage.setItem("userEmail", email); // Save to localStorage
        }

        alert("Profile updated and saved successfully!");
      });
    </script>
  </body>
</html>